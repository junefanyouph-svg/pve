<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="theme-color" content="#1a3a1a">
<link rel="manifest" href="manifest.json">
<title>FARM FRENZY WORDS</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
<div id="app">

  <!-- HUD -->
  <div id="hud">
    <div class="hb"><span class="hl">ğŸ“ Stage</span><span class="hv" id="ui-stage">1-1</span></div>
    <div class="hb"><span class="hl">â­ Score</span><span class="hv" id="ui-score">0</span></div>
    <div class="hb"><span class="hl">â¤ï¸ HP</span><span class="hv" id="ui-health">100</span></div>
    <div class="hb"><span class="hl">ğŸ’€ Kills</span><span class="hv" id="ui-kills">0</span></div>
  </div>

  <!-- Stage indicator boxes -->
  <div id="stage-indicator">
    <span class="stage-dot" id="sdot-1"></span>
    <span class="stage-dot" id="sdot-2"></span>
    <span class="stage-dot" id="sdot-3"></span>
  </div>

  <!-- Game area -->
  <div id="game-wrap">
    <div id="kill-progress-wrap"><div id="kill-progress-bar"></div></div>
    <canvas id="game-canvas"></canvas>
    <div id="sprite-layer"></div>
    <div id="stage-flash"></div>

    <!-- Next Stage Button (inside canvas, shown on stage clear) -->
    <button id="next-stage-btn" style="display:none">â¡ï¸ Next Stage</button>

    <!-- Stage Intro Overlay (inside canvas, shown after player runs off screen) -->
    <div id="stage-intro" style="display:none">
      <div id="stage-intro-inner">
        <div id="stage-intro-title"></div>
        <div id="stage-intro-sub"></div>
        <button class="tap-btn" id="stage-start-btn">âš”ï¸ Start!</button>
      </div>
    </div>
  </div>

  <!-- Word panel -->
  <div id="word-panel">
    <div id="combo-wrap">
      <span id="combo-label">ğŸ”¥ Combo</span>
      <div id="combo-bar-bg"><div id="combo-bar"></div></div>
      <span id="combo-count">Ã—1.0</span>
    </div>

    <div id="word-display-wrap">
      <div id="word-display">
        <span id="word-text"></span><span id="word-cursor"></span>
      </div>
      <div id="dmg-preview"></div>
    </div>

    <div id="btn-row">
      <button class="act-btn" id="submit-btn" disabled>âš”ï¸ Strike</button>
      <button class="act-btn" id="clear-btn">âœ– Clear</button>
      <button class="act-btn" id="refresh-btn">ğŸ”„ New</button>
    </div>

    <div id="letters-wrap"></div>
    <div id="feedback"></div>

  </div>

  <!-- Hidden GIF cache: DOM img elements keep GIFs animated so canvas can read live frames -->
  <div id="gif-cache"></div>

  <!-- Overlay -->
  <div id="overlay">
    <h1>ğŸ„ Farm<br>Frenzy<br>Words ğŸŒ¾</h1>
    <p class="sub">
      ğŸ„ WASD / drag to move your animal<br>
      ğŸ”¤ Tap letters to spell words<br>
      ğŸ”ª Strike to throw knives at enemies!<br>
      ğŸ”„ Refresh for new letters anytime
    </p>
    <button class="tap-btn" id="start-btn">ğŸŒ± Start Farm!</button>
  </div>
</div>
<script src="script.js"></script>
</body>
</html>